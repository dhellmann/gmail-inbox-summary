# Gmail Inbox Summary Configuration
# Copy this file to config.yaml and customize for your needs

# Gmail IMAP Configuration
gmail:
  email_address: "your.email@gmail.com"          # Your Gmail address
  # password is stored securely in keychain - run: gmail-summary creds store
  imap_server: "imap.gmail.com"                  # Gmail IMAP server
  imap_port: 993                                 # Gmail IMAP port (SSL)

# Claude Code CLI Configuration
claude:
  cli_path: "claude"     # Path to Claude Code CLI executable
  timeout: 30           # Timeout in seconds for each summary request
  concurrency: 5        # Number of concurrent summarization tasks (1-20, default: 5)
                        # Higher values = faster processing, more resources
                        # Example: concurrency: 10 for large inboxes

# Thread Categories - organized by Gmail labels for simple and reliable categorization
# Categories are processed in order they appear below - first match wins
# Categories are displayed in the same order they are defined here
categories:
  # Important/urgent emails - checked first for highest priority
  - name: "Important Messages"
    summary_prompt: "Summarize this important email, highlighting urgency and required actions."
    criteria:
      labels:
        - "is:important"  # Gmail's important label
        - "is:starred"    # Starred emails

  # Meeting invitations and calendar events
  - name: "Meeting Invitations"
    summary_prompt: "Summarize this meeting-related message concisely. For new invitations: include who invited me, meeting purpose, and time. For accept/decline responses: only mention the response unless a reason for declining was given."
    criteria:
      labels:
        - "meeting-invitation"  # Custom label for meeting invitations

  # Community discussions (Python, technical forums, etc.)
  - name: "Community"
    summary_prompt: "Summarize this community discussion, focusing on technical topics, questions, and community announcements."
    criteria:
      labels:
        - "List/python-discuss"  # Python mailing list discussions

  # Development notifications (GitHub, GitLab, etc.)
  - name: "Code"
    summary_prompt: "Summarize this development-related notification, focusing on code changes, PR status, issues, and deployments."
    criteria:
      labels:
        - "github"      # GitHub notifications
        - "github-*"    # GitHub project-specific labels (pattern matching)
        - "gitlab"      # GitLab notifications
        - "gitlab-*"    # GitLab project-specific labels (pattern matching)

  # JIRA tickets and issue tracking
  - name: "JIRA"
    summary_prompt: "Summarize this JIRA ticket notification, highlighting the current status of the ticket, any status changes, priority updates, and required actions."
    criteria:
      labels:
        - "jira"  # JIRA ticket notifications

  # Google Docs and collaboration notifications
  - name: "Documents"
    summary_prompt: "Summarize this document notification, focusing on what changed and any required actions."
    criteria:
      labels:
        - "google-docs"  # Google Docs notifications


# Important Senders
# Emails from these patterns will be highlighted in the HTML report
important_senders:
  - "ceo@company\\.com"
  - "boss@company\\.com"
  - "urgent@.*"
  - "security@.*"
  - "alerts@.*"

# Output Configuration
output_file: "inbox_summary.html"
# max_threads_per_category: null  # null for unlimited (default), or set a number like 50

# CONFIGURATION NOTES:
#
# 1. LABEL-BASED CATEGORIZATION:
#    - Categories use Gmail labels for reliable matching
#    - Apply labels to emails in Gmail, then reference them in your configuration
#    - Supports Gmail search syntax: "is:important", "is:starred", "is:unread"
#    - Supports pattern matching: "project-*" matches "project-alpha", "project-beta", etc.
#
# 2. SETTING UP LABELS:
#    - In Gmail: Settings > Labels > Create new label (e.g., "meeting-invitation")
#    - Apply labels manually or use Gmail filters to auto-label emails
#    - Reference these labels in your configuration
#
# 3. PATTERN MATCHING:
#    - Use "*" for wildcards: "gitlab-*" matches any label starting with "gitlab-"
#    - Use "?" for single characters: "project-?" matches "project-a", "project-1"
#    - Use "[abc]" for character sets: "priority-[123]" matches "priority-1", "priority-2", "priority-3"
#
# 4. CREDENTIAL STORAGE:
#    - Store Gmail password securely: gmail-summary creds store --email your.email@gmail.com
#    - Don't put passwords in this configuration file

# Optional: Advanced Gmail Settings
# gmail:
#   max_requests_per_minute: 100
#   batch_size: 10
#   query_filter: "is:unread"  # Only process unread emails

# Optional: Custom Claude Settings
# claude:
#   model: "claude-3-haiku"    # Use faster model for quicker processing
#   max_tokens: 150           # Limit summary length
